<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Value Intelligence Scorecard</title>
    <style>
        /* Previous styles remain the same */
        .email-section {
            margin-top: 20px;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .email-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        .email-label {
            display: block;
            margin-bottom: 5px;
            color: #666;
        }
    </style>
</head>
<body>
    <!-- Previous HTML content remains the same until the results div -->

    <button onclick="calculateScore()">Calculate Score</button>
    <div id="results"></div>

    <div class="email-section">
        <label for="email" class="email-label">Want to learn more about your score? Enter your email:</label>
        <input type="email" id="email" class="email-input" placeholder="Enter your email address">
        <button onclick="submitEmail()">Get Detailed Analysis</button>
    </div>

    <script>
        function calculateScore() {
            const scores = [];
            for (let i = 1; i <= 12; i++) {
                const score = document.getElementById(`q${i}`).value;
                if (score) scores.push(parseInt(score));
            }

            if (scores.length < 12) {
                alert("Please answer all questions");
                return;
            }

            const totalScore = scores.reduce((a, b) => a + b, 0);
            const average = totalScore / scores.length;
            let grade = '';

            if (average >= 3.5) grade = 'A';
            else if (average >= 3) grade = 'B';
            else if (average >= 2) grade = 'C';
            else grade = 'D';

            document.getElementById('results').innerHTML = `
                <h3>Results</h3>
                <p>Total Score: ${totalScore}/48</p>
                <p>Average: ${average.toFixed(2)}</p>
                <p>Grade: ${grade}</p>
                <p>Enter your email below to receive a detailed analysis of your score.</p>
            `;
        }

        function submitEmail() {
            const email = document.getElementById('email').value;
            if (!email) {
                alert('Please enter your email address');
                return;
            }
            if (!isValidEmail(email)) {
                alert('Please enter a valid email address');
                return;
            }
            alert('Thank you! We will send your detailed analysis shortly.');
        }

        function isValidEmail(email) {
            return email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);
        }
    </script>
</body>
</html>
